{% extends 'CookbookBundle:default:base.html.twig' %}

{% block main %}
    <main>
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h1>My Shopping List</h1>

                    <button class="btn btn-default" id="cb-sl-hideUserShoppingListItem">Hide checked items</button>

                    {{ form_start(deleteShoppingListItemForm, {'attr': {'novalidate': 'novalidate', 'id': 'cb-sl-deleteShoppingListItemForm'}}) }}
                        {{ form_errors(deleteShoppingListItemForm) }}

                        {{ form_row(deleteShoppingListItemForm.deleteAll, {'attr': {'class': 'btn btn-default'}}) }}
                        {{ form_row(deleteShoppingListItemForm.deleteItem, {'attr': {'class': 'btn btn-default'}}) }}

                        <div class="cb-clear-both"></div>

                        {% if deleteShoppingListItemForm.items is not empty %}
                            <ul class="cb-sl-userShoppingList">
                                {% for item in deleteShoppingListItemForm.items %}
                                    <li class="cb-sl-userShoppingListItem">
                                        {{ form_widget(item,  { 'attr': {'class': 'cb-sl-userShoppingListItemCheckbox'}}) }}
                                        {{ form_label(item, null, { 'label_attr': {'class': 'cb-sl-userShoppingListItemText'}}) }}
                                    </li>
                                    <div class="sillyDiv"></div>
                                {% endfor %}
                            </ul>
                        {% else %}
                            <p>No items.</p>
                        {% endif %}
                    {{ form_end(deleteShoppingListItemForm) }}

                    {{ form_start(addShoppingListItemForm, {'attr': {'novalidate': 'novalidate', 'id': 'cb-sl-addShoppingListItemForm'}}) }}
                        {{ form_errors(addShoppingListItemForm) }}

                        <div class="input-group">
                            {{ form_label(addShoppingListItemForm.item) }}
                            {{ form_errors(addShoppingListItemForm.item) }}
                            {{ form_widget(addShoppingListItemForm.item, {'attr': {'class': 'form-control'}}) }}
                            <span class="input-group-btn">
                                {{ form_widget(addShoppingListItemForm.save, {'attr': {'class': 'btn btn-default'}}) }}
                            </span>
                        </div>
                    {{ form_end(addShoppingListItemForm) }}
                </div>

                <!-- Confirmation modal delete all -->
                <div class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true" id="cb-sl-confirmDeleteAllItems">
                    <div class="modal-dialog modal-sm">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                <h4 class="modal-title" id="myModalLabel">Confirm</h4>
                            </div>
                            <div class="modal-body">
                                <p>Do you really want to delete all items?</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">No!</button>
                                <button type="button" class="btn btn-primary" id="cb-sl-yesDeleteAllItemsButton">Yes, delete all!</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
{% endblock %}